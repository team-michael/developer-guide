---
title: "Track Event"
---

이 엔드포인트는 사용자 행동 이벤트나 전역 이벤트를 Notifly 엔진으로 전송합니다.  
수집된 이벤트 데이터는 캠페인 트리거, 세그먼트 설정, 메시지 개인화 등에 사용됩니다.

---

## Endpoint

`POST https://api.notifly.tech/track-event`

---

## Specifications

### Body Parameters

| Parameter                  | Type    | Required | Description                                                                 |
| --------------------------- | ------- | -------- | ----------------------------------------------------------------------------------|
| projectID                  | String  | Yes      | Notifly 팀에서 제공하는 프로젝트 ID. 문의: contact@notifly.tech                           |
| eventName                  | String  | Yes      | 이벤트 이름                                                                           |
| isGlobalEvent              | Boolean | Yes      | 이벤트가 특정 사용자에 속하지 않는 전역 이벤트인지 여부                                         |
| eventParams                | Object  | No       | 이벤트와 관련된 추가 파라미터 (예: `{ plan: "premium" }`)                                   |
| segmentationEventParamKeys | List    | No       | 세그먼트 분류 시 특별 처리되는 파라미터 키 목록. (고급 기능)                                   |
| userID                     | String  | No       | 사용자 식별자. 전역 이벤트가 아니라면 필수                                                  |

---

## Headers

| Parameter     | Value            | Description                                                |
| --------------| ---------------- | ---------------------------------------------------------- |
| Content-Type  | application/json | 요청 본문의 MIME Type                                      |
| Authorization | some-token       | `POST /authenticate` 로부터 발급받은 인증 토큰             |

---

## Response Example

```json
{
  "data": "some-success-response-from-notifly-engine",
  "error": null
}
```

---

## Example Code (Node.js)

```js
const url = "https://api.notifly.tech/track-event";

const headers = {
  "Content-Type": "application/json",
  Authorization: "your-auth-token",
};

const body = {
  projectID: "provided_project_id",
  eventName: "show_end",
  isGlobalEvent: true,
  eventParams: { duration: 120, category: "video" },
  segmentationEventParamKeys: [],
  userID: null,
};

fetch(url, {
  method: "POST",
  headers,
  body: JSON.stringify(body),
})
  .then((res) => res.json())
  .then((data) => console.log(data))
  .catch((err) => console.error(err));
```

---

## Error Examples

| Status Code | Description                         | Example Response |
| ------------ | ----------------------------------- | ---------------- |
| 400          | 요청 본문 형식 오류                 | `{"code":400,"error":"Bad request: invalid schema"}` |
| 401          | 인증 실패 (만료 또는 잘못된 토큰)  | `{"code":401,"error":"Unauthorized: invalid token"}` |
| 500          | 서버 내부 오류                      | `{"code":500,"error":"Internal Server Error"}` |
